<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>循环删除数组元素</title>
</head>
<body>
  <script>
    function funError() {
      const arr = [1, 2, 2, 3, 4, 4, 5];
      for (let i = 0; i < arr.length; i++) {
        if (arr[i] % 2 === 0) {
          arr.splice(i, 1);
        }
      }
      console.log(arr); // 1,2,3,4,5
      // 实际上只删除掉了匹配的其中一个元素，而另外一个元素还存在。
      // 当删除掉了一个元素后，数组的索引发生的变化，造成了程序的异常。
    }

    function fun() {
      const arr = [1, 2, 2, 3, 4, 4, 5];
      for (let i = 0; i < arr.length; i++) {
        if (arr[i] % 2 === 0) {
          arr.splice(i--, 1);
          // arr.splice(i, 1);
          // i -= 1;
        }
      }
      console.log(arr); // 1,3,5
    }

    fun();
  </script>
</body>
</html>
